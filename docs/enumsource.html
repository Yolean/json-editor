<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>JSON Editor Select2 Integration Example</title>
    <script src="../dist/jsoneditor.min.js"></script>
    <script type="text/javascript" src="../node_modules/jquery/dist/jquery.min.js"></script>
    <!-- <script src="//cdn.jsdelivr.net/select2/3.4.8/select2.min.js"></script>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/select2/3.4.8/select2.css"> -->
</head>

<body>
  <h1>Enum source sort example</h1>

  <p style='margin-bottom:20px;'>Enum source where1 and where2</p>

  <div id='editor_holder'></div>
  <button id='submit'>Submit (console.log)</button>

  <script>
    // Global Select2 options
    // JSONEditor.plugins.select2.width = "300px";

    // Initialize the editor with a JSON schema
    var editor = new JSONEditor(document.getElementById('editor_holder'), {
      schema: {
        type: "object",
        title: "Text",
        required: ["selectedFonts", "possibleFonts"],
        properties: {
          selectedFonts: {
            type: "array",
            format: "table",
            uniqueItems: true,
            items: {
              type: "string",
              enumSource: "possible_fonts",
              watch: {
                "possible_fonts": "root.possibleFonts"
              }
            },
            default: ["Arial", "Times"]
          },
          possibleFonts: {
            type: "array",
            format: 'table',
            items: {
              type: "string"
            },
            default: ["Arial", "Times", "Helvetica", "Comic Sans"],
            options: {
              collapsed: false
            }
          }
        }
      }
    });

    // Hook up the submit button to log to the console
    document.getElementById('submit').addEventListener('click', function () {
      // Get the value from the editor
      console.log(editor.getValue());
    });
  </script>
</body>

</html>